<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="com.trivadis.loganalysis.profileprovider" name="Profile Provider" schema="schema/com.trivadis.loganalysis.profileprovider.exsd"/>
   <extension
         point="org.eclipse.ui.views">
      <category
            name="%view.category.name"
            id="com.trivadis.loganalysis.ui">
      </category>
      <view
            name="%view.logfiles.name"
            icon="icons/overview.gif"
            category="com.trivadis.loganalysis.ui"
            class="com.trivadis.loganalysis.ui.internal.view.LogFilesView"
            id="com.trivadis.loganalysis.ui.internal.view.LogFilesView">
      </view>
      <view
            category="com.trivadis.loganalysis.ui"
            class="com.trivadis.loganalysis.ui.internal.view.ProfilesView"
            icon="icons/profiles_view.gif"
            id="com.trivadis.loganalysis.ui.internal.view.ProfilesView"
            name="%view.profiles.name"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.trivadis.loganalysis.ui.internal.editor.intro.DashboardEditor"
            contributorClass="com.trivadis.loganalysis.ui.internal.editor.intro.DashboardEditorContribution"
            extensions="gclogx"
            icon="icons/chart.gif"
            id="com.trivadis.loganalysis.ui.internal.editor.intro.DashboardEditor"
            name="%editor.name">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="com.trivadis.loganalysis.ui.internal.perspective.GarbageCollectionAnalysisPerspective"
            icon="icons/chart.gif"
            id="com.trivadis.loganalysis.ui.internal.perspective.GarbageCollectionAnalysisPerspective"
            name="%perspective.name">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            description="%category.description"
            id="com.trivadis.loganalysis.ui.commands"
            name="%commands.category.name">
      </category>
      <command
            categoryId="com.trivadis.loganalysis.ui.commands"
            id="com.trivadis.loganalysis.ui.openAnalysis"
            name="%command.name">
      </command>
      <command
            id="com.trivadis.loganalysis.ui.deleteLogFile"
            name="%command.deleteLogFile">
      </command>
      <command
            categoryId="com.trivadis.loganalysis.ui.commands"
            id="com.trivadis.loganalysis.ui.openDashboard"
            name="%command.openDashboard">
      </command>
      <command
            categoryId="com.trivadis.loganalysis.ui.commands"
            id="com.trivadis.loganalysis.ui.openPerspective"
            name="%command.openGcLogPerspective">
      </command>
      <command
            categoryId="com.trivadis.loganalysis.ui.commands"
            id="com.trivadis.loganalysis.ui.openImportDialog"
            name="%command.openImportDialog">
      </command>
      <command
            id="com.trivadis.loganalysis.ui.deleteProfile"
            name="Delete Profile">
      </command>
      <command
            id="com.trivadis.loganalysis.ui.createProfile"
            name="Create Profile">
      </command>
      <command
            id="com.trivadis.loganalysis.ui.exportProfile"
            name="Export Profile">
      </command>
      <command
            id="com.trivadis.loganalysis.ui.importProfile"
            name="Import Profile">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenAnalysisHandler"
            commandId="com.trivadis.loganalysis.ui.openAnalysis">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.DeleteLogFileHandler"
            commandId="com.trivadis.loganalysis.ui.deleteLogFile">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenDashboardHandler"
            commandId="com.trivadis.loganalysis.ui.openDashboard">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenGcLoganalysisPerspective"
            commandId="com.trivadis.loganalysis.ui.openPerspective">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenImportDialogHandler"
            commandId="com.trivadis.loganalysis.ui.openImportDialog">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.DeleteProfileHandler"
            commandId="com.trivadis.loganalysis.ui.deleteProfile">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenNewProfileHandler"
            commandId="com.trivadis.loganalysis.ui.createProfile">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenExportProfileWizardHandler"
            commandId="com.trivadis.loganalysis.ui.exportProfile">
      </handler>
      <handler
            class="com.trivadis.loganalysis.ui.internal.handler.OpenImportProfileWizardHandler"
            commandId="com.trivadis.loganalysis.ui.importProfile">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <category
            id="com.trivadis.loganalysis.ui.wizard.import"
            name="%category.wizard.gc">
      </category>
      <wizard
            category="com.trivadis.loganalysis.ui.internal.wizard.sampleCategory"
            class="com.trivadis.loganalysis.ui.internal.wizard.ImportGCLogWizard"
            icon="icons/new_document.gif"
            id="com.trivadis.loganalysis.ui.internal.wizard.ImportGCLogWizard"
            name="%wizard.name">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:com.trivadis.loganalysis.ui.internal.view.LogFilesView?after=additions">
         <command
               commandId="com.trivadis.loganalysis.ui.openImportDialog"
               disabledIcon="icons/chart.gif"
               icon="icons/chart.gif"
               label="%wizard.name"
               style="push">
         </command>
         <command
               commandId="com.trivadis.loganalysis.ui.deleteLogFile"
               disabledIcon="IMG_TOOL_DELETE_DISABLED"
               icon="IMG_TOOL_DELETE"
               label="Delete"
               tooltip="Remove this log file from the view.">
                <visibleWhen>
            <with variable="selection">
                <iterate ifEmpty="false" operator="or">
                    <instanceof value="com.trivadis.loganalysis.core.domain.IFileDescriptor"/>
                </iterate>
            </with>
        </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
        locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
       	<toolbar id="com.trivadis.loganalyzer.toolbar">
            <command
            	label="%command.label"
                commandId="com.trivadis.loganalysis.ui.openDashboard"
                icon="icons/chart.gif"
                style="push">
            </command>
        </toolbar>
   </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:com.trivadis.loganalysis.ui.internal.view.ProfilesView?after=additions">
         <command
               commandId="com.trivadis.loganalysis.ui.createProfile"
               icon="icons/profile.gif"
               label="Create Profile"
               style="push">
         </command>
         <command
               commandId="com.trivadis.loganalysis.ui.deleteProfile"
               icon="IMG_TOOL_DELETE"
               label="Delete"
               style="push"
               tooltip="Remove this profile from the view.">
               <visibleWhen>
            <with variable="selection">
                <iterate ifEmpty="false" operator="and">
                    <instanceof value="com.trivadis.loganalysis.ui.domain.profile.IProfile"/>
                    <not>
                    	<instanceof value="com.trivadis.loganalysis.ui.domain.profile.IStandardProfile"/>
                    </not>
                </iterate>
            </with>
            </visibleWhen>
         </command>
         <command
               commandId="com.trivadis.loganalysis.ui.exportProfile">
         </command>
         <command
               commandId="com.trivadis.loganalysis.ui.importProfile"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="com.trivadis.loganalysis.ui.internal.wizard.new.garbageCollection"
            name="Garbage Collection">
      </category>
      <wizard
            category="com.trivadis.loganalysis.ui.internal.wizard.new.garbageCollection"
            class="com.trivadis.loganalysis.ui.internal.wizard.NewProfileWizard"
            finalPerspective="com.trivadis.loganalysis.ui.internal.perspective.GarbageCollectionAnalysisPerspective"
            hasPages="true"
            icon="icons/profile.gif"
            id="com.trivadis.loganalysis.ui.internal.wizard.newProfile"
            name="Analysis Profile">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <category
            id="com.trivadis.loganalysis.ui.wizard.export"
            name="Garbage Collection">
      </category>
      <wizard
            class="com.trivadis.loganalysis.ui.internal.wizard.ExportProfileWizard"
            id="com.trivadis.loganalysis.ui.wizard.export.profile"
            name="Export Profile">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <category
            id="com.trivadis.loganalysis.ui.wizard.import"
            name="Garbage Collection">
      </category>
      <wizard
            class="com.trivadis.loganalysis.ui.internal.wizard.ImportProfileWizard"
            id="com.trivadis.loganalysis.ui.wizard.import.profile"
            name="Import Profile">
      </wizard>
   </extension>
</plugin>
